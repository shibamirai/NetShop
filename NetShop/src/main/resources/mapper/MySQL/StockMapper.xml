<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- Mapperとxmlのマッピング -->
<mapper namespace="katachi.spring.exercise.repository.StockMapper">

	<!-- 在庫数 -->
	<select id="getQuantity" resultType="int">
		select
			quantity
		from
			stocks
		where
			item_id = #{id}
	</select>

	<!-- 入庫 -->
	<update id="increase">
		update stocks set
			quantity = quantity + #{count}
		where item_id = #{id}
	</update>

	<!-- 出庫 -->
	<update id="decrease">
		update stocks set
			quantity = quantity - #{count}
		where item_id = #{id}
	</update>
</mapper>
